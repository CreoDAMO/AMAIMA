openapi: 3.1.0
info:
  title: AMAIMA API
  version: 1.0.0
paths:
  /v1/capabilities:
    get:
      summary: Get Capabilities
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  models: { type: array, items: { type: object } }
                  execution_modes: { type: array }
                  # ... full as per endpoint
  /v1/simulate:
    post:
      summary: Simulate Routing
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [query]
              properties:
                query: { type: string }
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  simulated: { type: boolean, enum: [true] }
                  # ... full sim response
  /v1/feedback:
    post:
      summary: Submit Feedback
      security: [{ ApiKeyAuth: [] }]
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                decision_id: { type: string }
                feedback: { type: integer, enum: [-1, 0, 1] }
      responses:
        '200': { description: Recorded }
components:
  securitySchemes:
    ApiKeyAuth: { type: apiKey, in: header, name: X-API-Key }
